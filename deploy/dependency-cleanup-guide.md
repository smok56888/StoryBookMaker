# ä¾èµ–ä¼˜åŒ–æ¸…ç†æŒ‡å—

## ä¼˜åŒ–æ¦‚è¿°

é€šè¿‡ä»£ç æ‰«æåˆ†æï¼Œæˆ‘ä»¬è¯†åˆ«å‡ºäº†é¡¹ç›®ä¸­çš„å†—ä½™ä¾èµ–å¹¶åˆ›å»ºäº†æœ€å°ä¾èµ–é›†åˆã€‚

## ä¾èµ–åˆ†æç»“æœ

### ğŸ—‘ï¸ å·²ç§»é™¤çš„å†—ä½™ä¾èµ–

#### Radix UIç»„ä»¶ï¼ˆå¤§é‡æœªä½¿ç”¨ï¼‰
```json
// å·²ç§»é™¤ä»¥ä¸‹æœªä½¿ç”¨çš„ç»„ä»¶ï¼š
"@radix-ui/react-accordion": "1.2.2",
"@radix-ui/react-aspect-ratio": "1.1.1", 
"@radix-ui/react-avatar": "1.1.2",
"@radix-ui/react-checkbox": "1.1.3",
"@radix-ui/react-collapsible": "1.1.2",
"@radix-ui/react-context-menu": "2.2.4",
"@radix-ui/react-dropdown-menu": "2.1.4",
"@radix-ui/react-hover-card": "1.1.4",
"@radix-ui/react-menubar": "1.1.4",
"@radix-ui/react-navigation-menu": "1.2.3",
"@radix-ui/react-popover": "1.1.4",
"@radix-ui/react-radio-group": "1.2.2",
"@radix-ui/react-scroll-area": "1.2.2",
"@radix-ui/react-select": "2.1.4",
"@radix-ui/react-separator": "1.1.1",
"@radix-ui/react-slider": "1.2.2",
"@radix-ui/react-switch": "1.1.2",
"@radix-ui/react-tabs": "1.1.2",
"@radix-ui/react-toast": "1.2.4",
"@radix-ui/react-toggle": "1.1.1",
"@radix-ui/react-toggle-group": "1.1.1",
"@radix-ui/react-tooltip": "1.1.6"
```

#### é‡å¤çš„PDFç”Ÿæˆåº“
```json
// å·²ç§»é™¤ä»¥ä¸‹é‡å¤çš„PDFåº“ï¼š
"@react-pdf/font": "^4.0.2",
"@react-pdf/renderer": "^4.3.0",
"@types/html-pdf": "^3.0.3",
"@types/pdfkit": "^0.17.2",
"html-pdf": "^3.0.1",
"jspdf": "^3.0.1",
"jspdf-autotable": "^5.0.2",
"pdfkit": "^0.17.1"
```

#### å…¶ä»–æœªä½¿ç”¨çš„ä¾èµ–
```json
// å·²ç§»é™¤ï¼š
"@hookform/resolvers": "^3.9.1",
"@types/ejs": "^3.1.5",
"cmdk": "1.0.4",
"ejs": "^3.1.10",
"embla-carousel-react": "8.5.1",
"input-otp": "1.4.1",
"react-day-picker": "8.10.1",
"react-hook-form": "^7.54.1",
"react-resizable-panels": "^2.1.7",
"recharts": "2.15.0",
"vaul": "^0.9.6"
```

### âœ… ä¿ç•™çš„æ ¸å¿ƒä¾èµ–

#### å¿…éœ€çš„æ ¸å¿ƒä¾èµ–
```json
{
  "next": "15.2.4",           // Next.jsæ¡†æ¶
  "react": "^19",             // Reactæ ¸å¿ƒ
  "react-dom": "^19",         // React DOM
  "typescript": "^5",         // TypeScriptæ”¯æŒ
  "tailwindcss": "^3.4.17",  // æ ·å¼æ¡†æ¶
  "axios": "^1.10.0",         // HTTPå®¢æˆ·ç«¯
  "zod": "^3.24.1"           // æ•°æ®éªŒè¯
}
```

#### UIå’Œæ ·å¼ç›¸å…³
```json
{
  "@radix-ui/react-alert-dialog": "1.1.4",  // ç¡®è®¤å¯¹è¯æ¡†
  "@radix-ui/react-dialog": "1.1.4",        // æ¨¡æ€æ¡†
  "@radix-ui/react-label": "2.1.1",         // æ ‡ç­¾ç»„ä»¶
  "@radix-ui/react-progress": "1.1.1",      // è¿›åº¦æ¡
  "@radix-ui/react-slot": "1.1.1",          // æ’æ§½ç»„ä»¶
  "class-variance-authority": "^0.7.1",      // æ ·å¼å˜ä½“
  "clsx": "^2.1.1",                         // æ¡ä»¶æ ·å¼
  "tailwind-merge": "^2.5.5",               // Tailwindåˆå¹¶
  "tailwindcss-animate": "^1.0.7",          // åŠ¨ç”»
  "lucide-react": "^0.454.0",               // å›¾æ ‡åº“
  "next-themes": "^0.4.4"                   // ä¸»é¢˜åˆ‡æ¢
}
```

#### åŠŸèƒ½ç›¸å…³
```json
{
  "date-fns": "4.1.0",        // æ—¥æœŸå¤„ç†
  "pdf-lib": "^1.17.1",       // PDFç”Ÿæˆï¼ˆè½»é‡çº§ï¼‰
  "puppeteer": "^24.14.0",     // PDFç”Ÿæˆï¼ˆä¸»è¦ï¼‰
  "sonner": "^1.7.1"          // Toasté€šçŸ¥
}
```

## ä¼˜åŒ–æ•ˆæœ

### åŒ…å¤§å°å‡å°‘
- **åŸå§‹ä¾èµ–æ•°é‡**: 60+ ä¸ªåŒ…
- **ä¼˜åŒ–åä¾èµ–æ•°é‡**: 25 ä¸ªåŒ…
- **é¢„ä¼°åŒ…å¤§å°å‡å°‘**: ~40-50%

### å®‰è£…æ—¶é—´ä¼˜åŒ–
- **å‡å°‘ç½‘ç»œè¯·æ±‚**: å‡å°‘35+ä¸ªåŒ…çš„ä¸‹è½½
- **å‡å°‘ç¼–è¯‘æ—¶é—´**: ç§»é™¤æœªä½¿ç”¨çš„TypeScriptç±»å‹å®šä¹‰
- **å‡å°‘node_moduleså¤§å°**: æ˜¾è‘—å‡å°‘ç£ç›˜å ç”¨

## ä½¿ç”¨ä¼˜åŒ–åçš„ä¾èµ–

### æ–¹æ³•1: ç›´æ¥æ›¿æ¢package.json
```bash
# å¤‡ä»½åŸå§‹æ–‡ä»¶
cp package.json package.json.backup

# ä½¿ç”¨ä¼˜åŒ–ç‰ˆæœ¬
cp package.optimized.json package.json

# é‡æ–°å®‰è£…ä¾èµ–
rm -rf node_modules package-lock.json
npm install
```

### æ–¹æ³•2: ä½¿ç”¨ä¼˜åŒ–éƒ¨ç½²è„šæœ¬
```bash
# ä½¿ç”¨ä¸­å›½å¤§é™†ä¼˜åŒ–éƒ¨ç½²è„šæœ¬
./deploy/china-optimized-deploy.sh
```

## é˜¿é‡Œäº‘ECSåŒ—äº¬æœºæˆ¿ä¼˜åŒ–

### ç½‘ç»œä¼˜åŒ–é…ç½®
```bash
# .npmrc é…ç½®ï¼ˆå·²è‡ªåŠ¨ç”Ÿæˆï¼‰
registry=https://registry.npmmirror.com
disturl=https://npmmirror.com/mirrors/node/
puppeteer_download_host=https://npmmirror.com/mirrors
chromedriver_cdnurl=https://npmmirror.com/mirrors/chromedriver
```

### Chromeæµè§ˆå™¨å®‰è£…ä¼˜åŒ–
- ä½¿ç”¨æ¸…åå¤§å­¦é•œåƒæº
- è‡ªåŠ¨å¤„ç†GPGå¯†é’¥é—®é¢˜
- æä¾›å¤‡ç”¨å®‰è£…æ–¹æ¡ˆ

### Puppeteeré…ç½®ä¼˜åŒ–
```bash
export PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=true
export PUPPETEER_EXECUTABLE_PATH="/usr/bin/google-chrome-stable"
```

## éªŒè¯ä¼˜åŒ–æ•ˆæœ

### æ£€æŸ¥ä¾èµ–å®‰è£…
```bash
# æ£€æŸ¥å®‰è£…çš„åŒ…æ•°é‡
npm list --depth=0 | wc -l

# æ£€æŸ¥node_moduleså¤§å°
du -sh node_modules/
```

### æ£€æŸ¥æ„å»ºæ—¶é—´
```bash
# è®°å½•æ„å»ºæ—¶é—´
time npm run build
```

### æ£€æŸ¥è¿è¡Œæ—¶æ€§èƒ½
```bash
# æ£€æŸ¥å†…å­˜ä½¿ç”¨
pm2 monit

# æ£€æŸ¥å¯åŠ¨æ—¶é—´
pm2 logs storybook-maker --lines 50
```

## å›æ»šæ–¹æ¡ˆ

å¦‚æœä¼˜åŒ–åå‡ºç°é—®é¢˜ï¼Œå¯ä»¥å¿«é€Ÿå›æ»šï¼š

```bash
# æ¢å¤åŸå§‹ä¾èµ–
cp package.json.backup package.json

# é‡æ–°å®‰è£…
rm -rf node_modules package-lock.json
npm install

# é‡æ–°æ„å»º
npm run build
```

## æ³¨æ„äº‹é¡¹

1. **åŠŸèƒ½éªŒè¯**: ä¼˜åŒ–åè¯·å…¨é¢æµ‹è¯•æ‰€æœ‰åŠŸèƒ½
2. **ç±»å‹æ£€æŸ¥**: ç¡®ä¿TypeScriptç¼–è¯‘æ— é”™è¯¯
3. **è¿è¡Œæ—¶æµ‹è¯•**: éªŒè¯PDFç”Ÿæˆã€å›¾ç‰‡å¤„ç†ç­‰æ ¸å¿ƒåŠŸèƒ½
4. **æ€§èƒ½ç›‘æ§**: è§‚å¯Ÿåº”ç”¨å¯åŠ¨æ—¶é—´å’Œå†…å­˜ä½¿ç”¨

## åç»­ç»´æŠ¤

- å®šæœŸæ£€æŸ¥æ˜¯å¦æœ‰æ–°çš„æœªä½¿ç”¨ä¾èµ–
- ç›‘æ§åŒ…çš„å®‰å…¨æ›´æ–°
- æ ¹æ®åŠŸèƒ½éœ€æ±‚é€‚å½“æ·»åŠ å¿…è¦ä¾èµ–
- ä¿æŒä¾èµ–ç‰ˆæœ¬çš„ä¸€è‡´æ€§å’Œå…¼å®¹æ€§